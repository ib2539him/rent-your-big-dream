!function(h,b,S){"use strict";function t(e){if(y=b.documentElement,T=b.body,fe(),F=this,c=(e=e||{}).constants||{},e.easing)for(var t in e.easing)s[t]=e.easing[t];ke=e.edgeStrategy||"set",l={beforerender:e.beforerender,render:e.render,keyframe:e.keyframe},(d=!1!==e.forceHeight)&&(Oe=e.scale||1),H=e.mobileDeceleration||W,Se=!1!==e.smoothScrolling,u=e.smoothScrollingDuration||J,m={targetTop:F.getScrollTop()},(z=(e.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||h.opera)})())?((i=b.getElementById(e.skrollrBody||Z))&&be(),me(),D(y,[r,X],[R])):D(y,[r,U],[R]),F.refresh(),xe(h,"resize orientationchange",function(){var e=y.clientWidth,t=y.clientHeight;t===qe&&e===ze||(qe=t,ze=e,V=!0)});var n=ue();return function e(){pe(),we=n(e)}(),F}function L(e,t){return t.toUpperCase()}var y,T,w={get:function(){return F},init:function(e){return F||new t(e)},VERSION:"0.6.29"},M=Object.prototype.hasOwnProperty,k=h.Math,$=h.getComputedStyle,B="touchstart",_="touchmove",x="skrollable",G=x+"-before",K=x+"-between",Y=x+"-after",r="skrollr",R="no-"+r,U=r+"-desktop",X=r+"-mobile",j="linear",W=.004,Z="skrollr-body",J=200,Q="center",ee="bottom",E="___skrollable_id",te=/^(?:input|textarea|button|select)$/i,n=/^\s+|\s+$/g,ne=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,re=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,oe=/^(@?[a-z\-]+)\[(\w+)\]$/,ae=/-([a-z0-9_])/g,ie=/[\-+]?[\d]*\.?[\d]+/g,le=/\{\?\}/g,se=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,ce=/[a-z\-]+-gradient/g,o="",a="",fe=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if($){var t,n=$(T,null);for(t in n)if(o=t.match(e)||+t==t&&n[t].match(e))break;o?"-"===(o=o[0]).slice(0,1)?o={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[a=o]:a="-"+o.toLowerCase()+"-":o=a=""}},ue=function(){var e=h.requestAnimationFrame||h[o.toLowerCase()+"RequestAnimationFrame"],n=I();return e=!z&&e?e:function(e){var t=I()-n,t=k.max(0,1e3/60-t);return h.setTimeout(function(){n=I(),e()},t)}},s={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-k.cos(e*k.PI)/2+.5},sqrt:function(e){return k.sqrt(e)},outCubic:function(e){return k.pow(e-1,3)+1},bounce:function(e){var t;if(e<=.5083)t=3;else if(e<=.8489)t=9;else if(e<=.96208)t=27;else{if(!(e<=.99981))return 1;t=91}return 1-k.abs(3*k.cos(e*t*1.028)/t)}},me=(t.prototype.refresh=function(e){var t,n,r=!1;for(e===S?(r=!0,C=[],Le=0,e=b.getElementsByTagName("*")):e.length===S&&(e=[e]),t=0,n=e.length;t<n;t++){var o=e[t],a=o,i=[],l=Se,s=ke,c=!1;if(r&&E in o&&delete o[E],o.attributes){for(var f,u,m,p=0,d=o.attributes.length;p<d;p++){var g,v,h,y=o.attributes[p];if("data-anchor-target"!==y.name)"data-smooth-scrolling"!==y.name?"data-edge-strategy"!==y.name?"data-emit-events"!==y.name?null!==(h=y.name.match(ne))&&(g={props:y.value,element:o,eventType:y.name.replace(ae,L)},i.push(g),(v=h[1])&&(g.constant=v.substr(1)),v=h[2],/p$/.test(v)?(g.isPercentage=!0,g.offset=(0|v.slice(0,-1))/100):g.offset=0|v,v=h[3],h=h[4]||v,v&&"start"!==v&&"end"!==v?(g.mode="relative",g.anchors=[v,h]):(g.mode="absolute","end"===v?g.isEnd=!0:g.isPercentage||(g.offset=g.offset*Oe))):c=!0:s=y.value:l="off"!==y.value;else if(null===(a=b.querySelector(y.value)))throw'Unable to find anchor target "'+y.value+'"'}i.length&&(u=!r&&E in o?(m=o[E],f=C[m].styleAttr,C[m].classAttr):(m=o[E]=Le++,f=o.style.cssText,Ie(o)),C[m]={element:o,styleAttr:f,classAttr:u,anchorTarget:a,keyFrames:i,smoothScrolling:l,edgeStrategy:s,emitEvents:c,lastFrameIndex:-1},D(o,[x],[]))}}for(Ce(),t=0,n=e.length;t<n;t++){var T=C[e[t][E]];T!==S&&(de(T),ve(T))}return F},t.prototype.relativeToAbsolute=function(e,t,n){var r=y.clientHeight,e=e.getBoundingClientRect(),o=e.top,e=e.bottom-e.top;return t===ee?o-=r:t===Q&&(o-=r/2),n===ee?o+=e:n===Q&&(o+=e/2),o+F.getScrollTop()+.5|0},t.prototype.animateTo=function(e,t){t=t||{};var n=I(),r=F.getScrollTop(),o=t.duration===S?1e3:t.duration;return(f={startTop:r,topDiff:e-r,targetTop:e,duration:o,startTime:n,endTime:n+o,easing:s[t.easing||j],done:t.done}).topDiff||(f.done&&f.done.call(F,!1),f=S),F},t.prototype.stopAnimateTo=function(){f&&f.done&&f.done.call(F,!0),f=S},t.prototype.isAnimatingTo=function(){return!!f},t.prototype.isMobile=function(){return z},t.prototype.setScrollTop=function(e,t){return g=!0===t,z?q=k.min(k.max(e,0),P):h.scrollTo(0,e),F},t.prototype.getScrollTop=function(){return z?q:h.pageYOffset||y.scrollTop||T.scrollTop||0},t.prototype.getMaxScrollTop=function(){return P},t.prototype.on=function(e,t){return l[e]=t,F},t.prototype.off=function(e){return delete l[e],F},t.prototype.destroy=function(){var e;e=h.cancelAnimationFrame||h[o.toLowerCase()+"CancelAnimationFrame"],(e=!z&&e?e:function(e){return h.clearTimeout(e)})(we),Ae(),D(y,[R],[r,U,X]);for(var t=0,n=C.length;t<n;t++)A(C[t].element);y.style.overflow=T.style.overflow="",y.style.height=T.style.height="",i&&w.setStyle(i,"transform","none"),N="down",z=V=!(O=-(Oe=1)),q=Le=qe=ze=P=0,p=ke=g=m=u=Se=f=H=c=d=l=i=F=S},function(){var i,l,s,c,f,u,m,p,d,g,v;xe(y,[B,_,"touchcancel","touchend"].join(" "),function(e){var t=e.changedTouches[0];for(c=e.target;3===c.nodeType;)c=c.parentNode;switch(f=t.clientY,u=t.clientX,d=e.timeStamp,te.test(c.tagName)||e.preventDefault(),e.type){case B:i&&i.blur(),F.stopAnimateTo(),i=c,l=m=f,s=u;break;case _:te.test(c.tagName)&&b.activeElement!==c&&e.preventDefault(),p=f-m,v=d-g,F.setScrollTop(q-p,!0),m=f,g=d;break;default:var n=l-f,r=s-u;if(r*r+n*n<49)return void(te.test(i.tagName)||(i.focus(),(r=b.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,e.view,1,t.screenX,t.screenY,t.clientX,t.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),i.dispatchEvent(r)));i=S;var n=p/v,n=k.max(k.min(n,3),-3),r=k.abs(n/H),n=n*r+.5*H*r*r,o=F.getScrollTop()-n,a=0;P<o?(a=(P-o)/n,o=P):o<0&&(a=-o/n,o=0),F.animateTo(o+.5|0,{easing:"outCubic",duration:r*=1-a})}}),h.scrollTo(0,0),y.style.overflow=T.style.overflow="hidden"}),pe=function(){V&&(V=!1,Ce());var e,t,n=F.getScrollTop(),r=I();f?(r>=f.endTime?(n=f.targetTop,e=f.done,f=S):(t=f.easing((r-f.startTime)/f.duration),n=f.startTop+t*f.topDiff|0),F.setScrollTop(n,!0)):g||r<=(m=m.targetTop-n?{startTop:O,topDiff:n-O,targetTop:n,startTime:Ve,endTime:Ve+u}:m).endTime&&(t=s.sqrt((r-m.startTime)/u),n=m.startTop+t*m.topDiff|0),(g||O!==n)&&(t={curTop:n,lastTop:O,maxTop:P,direction:N=O<n?"down":n<O?"up":N},(g=!1)!==(l.beforerender&&l.beforerender.call(F,t))&&(function(e,t){for(var n=0,r=C.length;n<r;n++){var o,a=C[n],i=a.element,l=a.smoothScrolling?e:t,s=a.keyFrames,c=s.length,f=s[0],u=s[s.length-1],m=l<f.frame,p=l>u.frame,d=m?f:u,g=a.emitEvents,v=a.lastFrameIndex;if(m||p){if(m&&-1===a.edge||p&&1===a.edge)continue;switch(m?(D(i,[G],[Y,K]),g&&-1<v&&(Fe(i,f.eventType,N),a.lastFrameIndex=-1)):(D(i,[Y],[G,K]),g&&v<c&&(Fe(i,u.eventType,N),a.lastFrameIndex=c)),a.edge=m?-1:1,a.edgeStrategy){case"reset":A(i);continue;case"ease":l=d.frame;break;default:var h=d.props;for(o in h)M.call(h,o)&&(b=Te(h[o].value),0===o.indexOf("@")?i.setAttribute(o.substr(1),b):w.setStyle(i,o,b));continue}}else 0!==a.edge&&(D(i,[x,K],[G,Y]),a.edge=0);for(var y=0;y<c-1;y++)if(l>=s[y].frame&&l<=s[y+1].frame){var T,b,S=s[y],k=s[y+1];for(o in S.props)M.call(S.props,o)&&(T=(l-S.frame)/(k.frame-S.frame),T=S.props[o].easing(T),b=ye(S.props[o].value,k.props[o].value,T),b=Te(b),0===o.indexOf("@")?i.setAttribute(o.substr(1),b):w.setStyle(i,o,b));g&&v!==y&&(Fe(i,("down"===N?S:k).eventType,N),a.lastFrameIndex=y);break}}}(n,F.getScrollTop()),z&&i&&w.setStyle(i,"transform","translate(0, "+-q+"px) "+p),O=n,l.render)&&l.render.call(F,t),e)&&e.call(F,!1),Ve=r},de=function(e){for(var t=0,n=e.keyFrames.length;t<n;t++){for(var r,o,a,i=e.keyFrames[t],l={};null!==(a=re.exec(i.props));)o=a[1],a=a[2],r=null!==(r=o.match(oe))?(o=r[1],r[2]):j,a=a.indexOf("!")?ge(a):[a.slice(1)],l[o]={value:a,easing:s[r]};i.props=l}},ge=function(e){var t=[];return se.lastIndex=0,e=e.replace(se,function(e){return e.replace(ie,function(e){return e/255*100+"%"})}),a&&(ce.lastIndex=0,e=e.replace(ce,function(e){return a+e})),e=e.replace(ie,function(e){return t.push(+e),"{?}"}),t.unshift(e),t},ve=function(e){for(var t={},n=0,r=e.keyFrames.length;n<r;n++)he(e.keyFrames[n],t);for(t={},n=e.keyFrames.length-1;0<=n;n--)he(e.keyFrames[n],t)},he=function(e,t){for(var n in t)M.call(e.props,n)||(e.props[n]=t[n]);for(n in e.props)t[n]=e.props[n]},ye=function(e,t,n){var r=e.length;if(r!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';for(var o=[e[0]],a=1;a<r;a++)o[a]=e[a]+(t[a]-e[a])*n;return o},Te=function(e){var t=1;return le.lastIndex=0,e[0].replace(le,function(){return e[t++]})},A=function(e,t){for(var n,r,o=0,a=(e=[].concat(e)).length;o<a;o++)r=e[o],(n=C[r[E]])&&(t?(r.style.cssText=n.dirtyStyleAttr,D(r,n.dirtyClassAttr)):(n.dirtyStyleAttr=r.style.cssText,n.dirtyClassAttr=Ie(r),r.style.cssText=n.styleAttr,D(r,n.classAttr)))},be=function(){p="translateZ(0)",w.setStyle(i,"transform",p);var e=$(i),t=e.getPropertyValue("transform"),e=e.getPropertyValue(a+"transform");t&&"none"!==t||e&&"none"!==e||(p="")};w.setStyle=function(e,t,n){var r=e.style;if("zIndex"===(t=t.replace(ae,L).replace("-","")))isNaN(n)?r[t]=n:r[t]=""+(0|n);else if("float"===t)r.styleFloat=r.cssFloat=n;else try{o&&(r[o+t.slice(0,1).toUpperCase()+t.slice(1)]=n),r[t]=n}catch(e){}};var F,C,i,l,d,c,H,f,Se,u,m,g,ke,p,we,xe=w.addEvent=function(e,t,n){for(var r,o=function(e){return(e=e||h.event).target||(e.target=e.srcElement),e.preventDefault||(e.preventDefault=function(){e.returnValue=!1,e.defaultPrevented=!0}),n.call(this,e)},a=0,i=(t=t.split(" ")).length;a<i;a++)r=t[a],e.addEventListener?e.addEventListener(r,n,!1):e.attachEvent("on"+r,o),Me.push({element:e,name:r,listener:n})},Ee=w.removeEvent=function(e,t,n){for(var r=0,o=(t=t.split(" ")).length;r<o;r++)e.removeEventListener?e.removeEventListener(t[r],n,!1):e.detachEvent("on"+t[r],n)},Ae=function(){for(var e,t=0,n=Me.length;t<n;t++)e=Me[t],Ee(e.element,e.name,e.listener);Me=[]},Fe=function(e,t,n){l.keyframe&&l.keyframe.call(F,e,t,n)},Ce=function(){var e=F.getScrollTop();P=0,d&&!z&&(T.style.height="");for(var t,n,r,o,a,i,l,s,c,f=y.clientHeight,u=He(),m=0,p=C.length;m<p;m++)for(n=(t=C[m]).element,r=t.anchorTarget,a=0,i=(o=t.keyFrames).length;a<i;a++)s=(l=o[a]).offset,c=u[l.constant]||0,l.frame=s,l.isPercentage&&(l.frame=s*=f),"relative"===l.mode&&(A(n),l.frame=F.relativeToAbsolute(r,l.anchors[0],l.anchors[1])-s,A(n,!0)),l.frame+=c,d&&!l.isEnd&&l.frame>P&&(P=l.frame);for(P=k.max(P,De()),m=0,p=C.length;m<p;m++){for(a=0,i=(o=(t=C[m]).keyFrames).length;a<i;a++)c=u[(l=o[a]).constant]||0,l.isEnd&&(l.frame=P-l.offset+c);t.keyFrames.sort(Ne)}d&&!z&&(T.style.height=P+y.clientHeight+"px"),z?F.setScrollTop(k.min(F.getScrollTop(),P)):F.setScrollTop(e,!0),g=!0},He=function(){var e,t,n=y.clientHeight,r={};for(e in c)"function"==typeof(t=c[e])?t=t.call(F):/p$/.test(t)&&(t=t.slice(0,-1)/100*n),r[e]=t;return r},De=function(){var e=0;return i&&(e=k.max(i.offsetHeight,i.scrollHeight)),k.max(e,T.scrollHeight,T.offsetHeight,y.scrollHeight,y.offsetHeight,y.clientHeight)-y.clientHeight},Ie=function(e){var t="className";return h.SVGElement&&e instanceof h.SVGElement&&(e=e[t],t="baseVal"),e[t]},D=function(e,t,n){var r="className";if(h.SVGElement&&e instanceof h.SVGElement&&(e=e[r],r="baseVal"),n!==S){for(var o=e[r],a=0,i=n.length;a<i;a++)o=v(o).replace(v(n[a])," ");for(var o=Pe(o),l=0,s=t.length;l<s;l++)-1===v(o).indexOf(v(t[l]))&&(o+=" "+t[l]);e[r]=Pe(o)}else e[r]=t},Pe=function(e){return e.replace(n,"")},v=function(e){return" "+e+" "},I=Date.now||function(){return+new Date},Ne=function(e,t){return e.frame-t.frame},P=0,Oe=1,N="down",O=-1,Ve=I(),ze=0,qe=0,V=!1,Le=0,z=!1,q=0,Me=[];"function"==typeof define&&define.amd?define([],function(){return w}):"undefined"!=typeof module&&module.exports?module.exports=w:h.skrollr=w}(window,document);